"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1848],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=r.createContext({}),l=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=l(e.components);return r.createElement(u.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,u=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=l(n),m=i,g=c["".concat(u,".").concat(m)]||c[m]||d[m]||a;return n?r.createElement(g,o(o({ref:t},p),{},{components:n})):r.createElement(g,o({ref:t},p))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=m;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s[c]="string"==typeof e?e:i,o[1]=s;for(var l=2;l<a;l++)o[l]=n[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},4250:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>u,toc:()=>p});var r=n(7462),i=(n(7294),n(3905));const a=n.p+"assets/images/deneme-4a95ac5069fecfb89c30d27c47d2717b.gif",o={},s="TMC Tuning",u={unversionedId:"Printing Guide/TMC Tuning",id:"Printing Guide/TMC Tuning",title:"TMC Tuning",description:"For TMC tuning, you'll need the TMC Autotune add-on. This extension generates optimal values for most registers of TMC stepper motor drivers by using the motor\u2019s datasheet specifications and the user\u2019s selected tuning goal. By leveraging this data, the extension ensures that the motor operates efficiently and meets the user's specific requirements, whether the focus is on performance, noise reduction, or precision. Click here to see the installation guide.",source:"@site/docs/Printing Guide/TMC Tuning.md",sourceDirName:"Printing Guide",slug:"/Printing Guide/TMC Tuning",permalink:"/Printing Guide/TMC Tuning",draft:!1,editUrl:"https://github.com/pole-engineering/Docs/tree/gh-pages/docs/Printing Guide/TMC Tuning.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Pressure Advance",permalink:"/Printing Guide/Pressure Advance"},next:{title:"Temperature Controls",permalink:"/Printing Guide/Temperature Controls"}},l={},p=[{value:"Config Details",id:"config-details-1",level:2},{value:"Must be Included",id:"must-be-included-1",level:3},{value:"Autotune Configuration",id:"autotune-configuration-1",level:3},{value:"Defining Stepper",id:"defining-stepper-1",level:3}],c={toc:p},d="wrapper";function m(e){let{components:t,...n}=e;return(0,i.kt)(d,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"tmc-tuning"},"TMC Tuning"),(0,i.kt)("p",null,"For TMC tuning, you'll need the ",(0,i.kt)("a",{parentName:"p",href:"/Printing%20Guide/Useful%20Add-ons#tmc-autotune-1"},"TMC Autotune")," add-on. This extension generates optimal values for most registers of TMC stepper motor drivers by using the motor\u2019s datasheet specifications and the user\u2019s selected tuning goal. By leveraging this data, the extension ensures that the motor operates efficiently and meets the user's specific requirements, whether the focus is on performance, noise reduction, or precision. Click ",(0,i.kt)("a",{parentName:"p",href:"/Printing%20Guide/Useful%20Add-ons#installation-5"},"here")," to see the installation guide."),(0,i.kt)("admonition",{title:"skip to;",type:"tip"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("h4",{parentName:"li",id:"config-details"},(0,i.kt)("a",{parentName:"h4",href:"/Printing%20Guide/TMC%20Tuning#config-details-1"},"Config Details")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("h4",{parentName:"li",id:"must-be-included"},(0,i.kt)("a",{parentName:"h4",href:"/Printing%20Guide/TMC%20Tuning#must-be-included-1"},"Must be Included"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("h4",{parentName:"li",id:"autotune-configuration"},(0,i.kt)("a",{parentName:"h4",href:"/Printing%20Guide/TMC%20Tuning#autotune-configuration-1"},"Autotune Configuration"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("h4",{parentName:"li",id:"defining-stepper"},(0,i.kt)("a",{parentName:"h4",href:"/Printing%20Guide/TMC%20Tuning#defining-stepper-1"},"Defining Stepper"))))))),(0,i.kt)("h2",{id:"config-details-1"},"Config Details"),(0,i.kt)("h3",{id:"must-be-included-1"},"Must be Included"),(0,i.kt)("p",null,"Your driver configurations should have following lines;"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("h4",{parentName:"li",id:"pins"},"Pins")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("h4",{parentName:"li",id:"currents-runholdhoming-currents"},"Currents (run,hold,homing currents)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("h4",{parentName:"li",id:"interpolate"},"Interpolate"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-properties",metastring:'showLineNumbers title="printer.cfg"',showLineNumbers:!0,title:'"printer.cfg"'},"####################################################\n## Add `interpolate: true` in your driver configs ##\n####################################################\n[tmc(XXXX) stepper(x)]\ninterpolate: true\n")))))),(0,i.kt)("h3",{id:"autotune-configuration-1"},"Autotune Configuration"),(0,i.kt)("p",null,"To enable autotuning for your TMC drivers and motors, add the following to your printer.cfg file. Be sure to adjust the motor names and modify or remove any sections as necessary. After making these changes, restart Klipper:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-properties",metastring:'showLineNumbers title="printer.cfg"',showLineNumbers:!0,title:'"printer.cfg"'}," [autotune_tmc stepper_x]\n motor: ldo-42sth48-2004mah\n [autotune_tmc stepper_y]\n motor: ldo-42sth48-2004mah\n\n [autotune_tmc stepper_z]\n motor: ldo-42sth48-2004ac\n [autotune_tmc stepper_z1]\n motor: ldo-42sth48-2004ac\n [autotune_tmc stepper_z2]\n motor: ldo-42sth48-2004ac\n [autotune_tmc stepper_z3]\n motor: ldo-42sth48-2004ac\n\n [autotune_tmc extruder]\n motor: ldo-36sth20-1004ahg\n")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("admonition",{parentName:"li",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Check the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/andrewmcgr/klipper_tmc_autotune/blob/main/motor_database.cfg"},(0,i.kt)("inlineCode",{parentName:"a"},"motor_database.cfg"))," file in the repository to see available steppers."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("admonition",{parentName:"li",type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"You can add several additional parameters into ",(0,i.kt)("inlineCode",{parentName:"p"},"[autotune_tmc]")," section. Check their Github description to see available parameters.")))))),(0,i.kt)("h3",{id:"defining-stepper-1"},"Defining Stepper"),(0,i.kt)("p",null,"You can add your own stepper with adding the following section to ",(0,i.kt)("inlineCode",{parentName:"p"},"motor_database.cfg"),"."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-properties",metastring:'showLineNumbers title="motor_database.cfg"',showLineNumbers:!0,title:'"motor_database.cfg"'},"################################\n## Change the required values ##\n################################\n[motor_constants my_custom_motor]\n# Coil resistance, Ohms\nresistance: 0.00\n# Coil inductance, Henries\ninductance: 0.00\n# Holding torque, Nm\nholding_torque: 0.00\n# Nominal rated current, Amps\nmax_current: 0.00\n# Steps per revolution (1.8deg motors use 200, 0.9deg motors use 400)\nsteps_per_revolution: 200\n")))),(0,i.kt)("p",null,"And you are all set!"),(0,i.kt)("div",{style:{textAlign:"center"}},(0,i.kt)("img",{src:a,alt:"shaper",style:{width:1e3,opacity:1}})))}m.isMDXComponent=!0}}]);