"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7147],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>k});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p=r.createContext({}),m=function(e){var t=r.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},d=function(e){var t=m(e.components);return r.createElement(p.Provider,{value:t},e.children)},s="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),s=m(a),u=n,k=s["".concat(p,".").concat(u)]||s[u]||c[u]||i;return a?r.createElement(k,l(l({ref:t},d),{},{components:a})):r.createElement(k,l({ref:t},d))}));function k(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,l=new Array(i);l[0]=u;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[s]="string"==typeof e?e:n,l[1]=o;for(var m=2;m<i;m++)l[m]=a[m];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},4816:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>m});var r=a(7462),n=(a(7294),a(3905));const i={},l="Temperature Controls",o={unversionedId:"Printing Guide/Temperature Controls",id:"Printing Guide/Temperature Controls",title:"Temperature Controls",description:"Here, we will explain how you can tune two different temperature control methods. One is the PID (Proportional-Integral-Derivative) method, which is natively supported by Klipper, and the other is the MPC (Model Predictive Control) method found in DangerKlipper (DK), a modified version of Klipper.",source:"@site/docs/Printing Guide/Temperature Controls.md",sourceDirName:"Printing Guide",slug:"/Printing Guide/Temperature Controls",permalink:"/Printing Guide/Temperature Controls",draft:!1,editUrl:"https://github.com/pole-engineering/Docs/tree/gh-pages/docs/Printing Guide/Temperature Controls.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"TMC Tuning",permalink:"/Printing Guide/TMC Tuning"},next:{title:"Useful Add-ons",permalink:"/Printing Guide/Useful Add-ons"}},p={},m=[{value:"What is the Advantage of the MPC over PID?",id:"what-is-the-advantage-of-the-mpc-over-pid-1",level:2},{value:"PID Tuning",id:"pid-tuning-1",level:2},{value:"MPC (Model Predictive Control)",id:"mpc-model-predictive-control-1",level:2},{value:"Advantages of MPC over PID:",id:"advantages-of-mpc-over-pid-1",level:3},{value:"Configuration Changes",id:"configuration-changes-1",level:3},{value:"PTC Heater Power",id:"ptc-heater-power-1",level:3},{value:"Filament Physical Properties",id:"filament-physical-properties-1",level:3},{value:"Calibration Process",id:"calibration-process-1",level:3}],d={toc:m},s="wrapper";function c(e){let{components:t,...a}=e;return(0,n.kt)(s,(0,r.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"temperature-controls"},"Temperature Controls"),(0,n.kt)("p",null,"Here, we will explain how you can tune two different temperature control methods. One is the PID (Proportional-Integral-Derivative) method, which is natively supported by Klipper, and the other is the MPC (Model Predictive Control) method found in ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/DangerKlippers/danger-klipper/tree/bleeding-edge-v2"},"DangerKlipper (DK)"),", a modified version of Klipper."),(0,n.kt)("admonition",{title:"skip to;",type:"tip"},(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("h4",{parentName:"li",id:"what-is-the-advantage-of-the-mpc-over-pid"},(0,n.kt)("a",{parentName:"h4",href:"/Printing%20Guide/Temperature%20Controls#what-is-the-advantage-of-the-mpc-over-pid"},"What is the Advantage of the MPC over PID?"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("h4",{parentName:"li",id:"pid-tuning"},(0,n.kt)("a",{parentName:"h4",href:"/Printing%20Guide/Temperature%20Controls#pid-tuning"},"PID Tuning"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("h4",{parentName:"li",id:"mpc-model-predictive-control"},(0,n.kt)("a",{parentName:"h4",href:"/Printing%20Guide/Temperature%20Controls#mpc-model-predictive-control"},"MPC (Model Predictive Control)")),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("h4",{parentName:"li",id:"advantages-of-mpc-over-pid"},(0,n.kt)("a",{parentName:"h4",href:"/Printing%20Guide/Temperature%20Controls#advantages-of-mpc-over-pid"},"Advantages of MPC over PID"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("h4",{parentName:"li",id:"configuration-changes"},(0,n.kt)("a",{parentName:"h4",href:"/Printing%20Guide/Temperature%20Controls#configuration-changes"},"Configuration Changes"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("h4",{parentName:"li",id:"ptc-heater-power"},(0,n.kt)("a",{parentName:"h4",href:"/Printing%20Guide/Temperature%20Controls#ptc-heater-power"},"PTC Heater Power"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("h4",{parentName:"li",id:"filament-physical-properties"},(0,n.kt)("a",{parentName:"h4",href:"/Printing%20Guide/Temperature%20Controls#filament-physical-properties"},"Filament Physical Properties"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("h4",{parentName:"li",id:"calibration-process"},(0,n.kt)("a",{parentName:"h4",href:"/Printing%20Guide/Temperature%20Controls#calibration-process"},"Calibration Process"))))))),(0,n.kt)("h2",{id:"what-is-the-advantage-of-the-mpc-over-pid-1"},"What is the Advantage of the MPC over PID?"),(0,n.kt)("p",null,"MPC has a few advantages over PID, here you can see few of them below;"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"The current estimate of the surrounding ambient temperature."),(0,n.kt)("li",{parentName:"ul"},"The influence of filament feed rate on heat loss to the filament, assuming the filament starts at the ambient air temperature."),(0,n.kt)("li",{parentName:"ul"},"The impact of the fan on heat dissipation into the surrounding air."),(0,n.kt)("li",{parentName:"ul"},"The most recent power setting applied to the hotend.")),(0,n.kt)("h2",{id:"pid-tuning-1"},"PID Tuning"),(0,n.kt)("p",null,"PID calibration is necessary for the proper functioning of heater elements. PID (Proportional-Integral-Derivative) is a control algorithm used to maintain the temperature of heating elements at a target value."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("h4",{parentName:"li",id:"a-initiate-the-pid-calibration-by-"},"a) Initiate the PID calibration by :"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"For the Hotend:"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-properties",metastring:'showLineNumbers title="Console"',showLineNumbers:!0,title:'"Console"'},"PID_CALIBRATE HEATER=extruder TARGET=220\n"))))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"For the Heatbed"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-properties",metastring:'showLineNumbers title="Console"',showLineNumbers:!0,title:'"Console"'},"PID_CALIBRATE HEATER=heat_bed TARGET=80\n")))))))),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"When performing PID tuning, if you are using a CPAP fan, set the fan to 50%. If you are using a 5015 fan, set the fan to 100% for accurate PID tuning.")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("h4",{parentName:"li",id:"b-initiate-the-pid-calibration-by-"},"b) Initiate the PID calibration by :"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Save the config by:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-properties",metastring:'showLineNumbers title="Console"',showLineNumbers:!0,title:'"Console"'},"SAVE_CONFIG\n")))))))),(0,n.kt)("admonition",{title:"PID Macro",type:"tip"},(0,n.kt)("p",{parentName:"admonition"},"You can add the macros below for easier PID tunes for the future."),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre",className:"language-properties",metastring:'showLineNumbers title="Console"',showLineNumbers:!0,title:'"Console"'},"[gcode_macro PID_EXTRUDER]\ngcode:\n    M117 PID Tuning Extruder to 220 C\n    PID_CALIBRATE HEATER=extruder TARGET=220\n    TURN_OFF_HEATERS \n    SAVE_CONFIG\n\n[gcode_macro PID_BED]\ngcode:\n    M117 PID Tuning Bed to 80 C\n    PID_CALIBRATE HEATER=heater_bed TARGET=80\n    TURN_OFF_HEATERS \n    SAVE_CONFIG\n"))),(0,n.kt)("h2",{id:"mpc-model-predictive-control-1"},"MPC (Model Predictive Control)"),(0,n.kt)("p",null,"Model Predictive Control (MPC) is an advanced temperature control method that offers a proactive alternative to traditional PID control. By using a system model, MPC simulates the hotend's temperature and adjusts the heater power to maintain the target temperature."),(0,n.kt)("p",null,"Unlike reactive methods, MPC anticipates temperature fluctuations by accounting for factors like thermal mass, heater power, heat loss to ambient air and fans, and heat transfer into the filament. This allows MPC to predict heat dissipation and adjust heater power accordingly, resulting in more stable temperature control."),(0,n.kt)("h3",{id:"advantages-of-mpc-over-pid-1"},"Advantages of MPC over PID:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Faster response:")," MPC reacts quickly to changes in fan speed or flow rate."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Wider range:")," Once calibrated, MPC works well across different printing temperatures."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Easier calibration:")," Simplified compared to PID."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Sensor compatibility:")," Works with any hotend sensor, even those with noisy readings."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Versatile heater support:")," Effective with both cartridge and PTC heaters."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Flow adaptability:")," Manages both high and low flow hotends with consistent temperature control.")),(0,n.kt)("h3",{id:"configuration-changes-1"},"Configuration Changes"),(0,n.kt)("p",null,"To use MPC as the temperature controller for the extruder use the following basic configuration block."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-properties",metastring:'showLineNumbers title="printer.cfg"',showLineNumbers:!0,title:'"printer.cfg"'},"[extruder]\ncontrol: mpc                        ; The temperature control method\nheater_power: 50                    ; The nameplate heater power in watts\ncooling_fan: fan                    ; Fan that is cooling extruded filament and the hotend\nfilament_diameter: 1.75             ; Filament diameter\nfilament_density: 1.20              ; Material density of the filament being printed.\nfilament_heat_capacity: 1.8         ; Material specific heat capacity of the filament being printed.\n")),(0,n.kt)("h3",{id:"ptc-heater-power-1"},"PTC Heater Power"),(0,n.kt)("p",null,"For PTC-style heaters, it is recommended to set ",(0,n.kt)("inlineCode",{parentName:"p"},"heater_power:(XX)")," at the standard printing temperature for your printer. Below are some common PTC heaters for reference. If your specific heater isn't listed, the manufacturer should provide a temperature and power curve."),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"center"},"Heater Temp (C)"),(0,n.kt)("th",{parentName:"tr",align:"center"},"Rapido 2 (W)"),(0,n.kt)("th",{parentName:"tr",align:"center"},"Rapido 1 (W)"),(0,n.kt)("th",{parentName:"tr",align:"center"},"Dragon Ace old (W)"),(0,n.kt)("th",{parentName:"tr",align:"center"},"Dragon Ace new (W)"),(0,n.kt)("th",{parentName:"tr",align:"center"},"Revo 40 (W)"),(0,n.kt)("th",{parentName:"tr",align:"center"},"Revo 60 (W)"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"180"),(0,n.kt)("td",{parentName:"tr",align:"center"},"72"),(0,n.kt)("td",{parentName:"tr",align:"center"},"52"),(0,n.kt)("td",{parentName:"tr",align:"center"},"51"),(0,n.kt)("td",{parentName:"tr",align:"center"},"66"),(0,n.kt)("td",{parentName:"tr",align:"center"},"30"),(0,n.kt)("td",{parentName:"tr",align:"center"},"45")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"200"),(0,n.kt)("td",{parentName:"tr",align:"center"},"70"),(0,n.kt)("td",{parentName:"tr",align:"center"},"51"),(0,n.kt)("td",{parentName:"tr",align:"center"},"48"),(0,n.kt)("td",{parentName:"tr",align:"center"},"63"),(0,n.kt)("td",{parentName:"tr",align:"center"},"29"),(0,n.kt)("td",{parentName:"tr",align:"center"},"44")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"220"),(0,n.kt)("td",{parentName:"tr",align:"center"},"67"),(0,n.kt)("td",{parentName:"tr",align:"center"},"50"),(0,n.kt)("td",{parentName:"tr",align:"center"},"46"),(0,n.kt)("td",{parentName:"tr",align:"center"},"60"),(0,n.kt)("td",{parentName:"tr",align:"center"},"28"),(0,n.kt)("td",{parentName:"tr",align:"center"},"43")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"240"),(0,n.kt)("td",{parentName:"tr",align:"center"},"65"),(0,n.kt)("td",{parentName:"tr",align:"center"},"49"),(0,n.kt)("td",{parentName:"tr",align:"center"},"44"),(0,n.kt)("td",{parentName:"tr",align:"center"},"58"),(0,n.kt)("td",{parentName:"tr",align:"center"},"28"),(0,n.kt)("td",{parentName:"tr",align:"center"},"42")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"260"),(0,n.kt)("td",{parentName:"tr",align:"center"},"64"),(0,n.kt)("td",{parentName:"tr",align:"center"},"48"),(0,n.kt)("td",{parentName:"tr",align:"center"},"43"),(0,n.kt)("td",{parentName:"tr",align:"center"},"55"),(0,n.kt)("td",{parentName:"tr",align:"center"},"27"),(0,n.kt)("td",{parentName:"tr",align:"center"},"40")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"280"),(0,n.kt)("td",{parentName:"tr",align:"center"},"62"),(0,n.kt)("td",{parentName:"tr",align:"center"},"47"),(0,n.kt)("td",{parentName:"tr",align:"center"},"41"),(0,n.kt)("td",{parentName:"tr",align:"center"},"53"),(0,n.kt)("td",{parentName:"tr",align:"center"},"27"),(0,n.kt)("td",{parentName:"tr",align:"center"},"39")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"300"),(0,n.kt)("td",{parentName:"tr",align:"center"},"60"),(0,n.kt)("td",{parentName:"tr",align:"center"},"46"),(0,n.kt)("td",{parentName:"tr",align:"center"},"39"),(0,n.kt)("td",{parentName:"tr",align:"center"},"51"),(0,n.kt)("td",{parentName:"tr",align:"center"},"26"),(0,n.kt)("td",{parentName:"tr",align:"center"},"38")))),(0,n.kt)("h3",{id:"filament-physical-properties-1"},"Filament Physical Properties"),(0,n.kt)("p",null,"MPC performs optimally when it knows the energy required (in Joules) to heat 1mm of filament by 1\xb0C. The material values provided in the tables below are sourced from popular filament manufacturers and material data references. These values are adequate for MPC to enable the FFF feature."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("table",{parentName:"li"},(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Material"),(0,n.kt)("th",{parentName:"tr",align:"center"},"Density ","[g/cm\xb3]"),(0,n.kt)("th",{parentName:"tr",align:"center"},"Specific heat ","[J/g/K]"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"PLA"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.25"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.8 - 2.2")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"PETG"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.27"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.7 - 2.2")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"PC+ABS"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.15"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.5 - 2.2")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"ABS"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.06"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.25 - 2.4")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"ASA"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.07"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.3 - 2.1")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"PA6"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.12"),(0,n.kt)("td",{parentName:"tr",align:"center"},"2 - 2.5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"PA"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.15"),(0,n.kt)("td",{parentName:"tr",align:"center"},"2 - 2.5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"PC"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.20"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.1 - 1.9")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"TPU"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.21"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.5 - 2")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"TPU-90A"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.15"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.5 - 2")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"TPU-95A"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.22"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.5 - 2")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"ABS-CF"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.11"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.8 - 2.2")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"ASA-CF"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.11"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.3 - 2.1")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"PA6-CF"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.19"),(0,n.kt)("td",{parentName:"tr",align:"center"},"2 - 2.5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"PC+ABS-CF"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.22"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.5 - 2.2")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"PC+CF"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.36"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.1 - 1.9")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"PLA-CF"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.29"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.8 - 2.2")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"PETG-CF"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.30"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1.7 - 2.2")))))),(0,n.kt)("h3",{id:"calibration-process-1"},"Calibration Process"),(0,n.kt)("p",null,"The MPC calibration routine needs to be executed for each heater that will be controlled by MPC to establish the model parameters. For successful calibration, the extruder must be capable of reaching 200\xb0C. Calibration is carried out using the following G-code command."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("h4",{parentName:"li",id:"a-initiate-the-calibration-with-followin-command"},"a) Initiate the Calibration with Followin Command"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-properties",metastring:'showLineNumbers title="Console"',showLineNumbers:!0,title:'"Console"'},"   MPC_CALIBRATE HEATER=<heater> [TARGET=<temperature>] [FAN_BREAKPOINTS=<value>]\n")),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"HEATER=<heater>"),":",(0,n.kt)("br",{parentName:"li"}),"The extruder heater to be calibrated.",(0,n.kt)("br",{parentName:"li"}),""),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"TARGET=<temperature>"),":",(0,n.kt)("br",{parentName:"li"}),"",(0,n.kt)("em",{parentName:"li"},"Default Value:200\xb0C"),(0,n.kt)("br",{parentName:"li"}),"Sets the calibration temperature. The default of 200C is a good target for the extruder. MPC calibration is temperature independent, so calibrating the extruder at higher temperatures will not necessarily produce better model parameters. This is an area of exploration for advanced users.",(0,n.kt)("br",{parentName:"li"}),""),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"FAN_BREAKPOINTS=<value>"),":",(0,n.kt)("br",{parentName:"li"}),"",(0,n.kt)("em",{parentName:"li"},"Default Value: 3"),(0,n.kt)("br",{parentName:"li"}),"This setting determines the number of fan setpoints to test during calibration. You can specify an arbitrary number of breakpoints; for example, using 7 breakpoints would result in fan speeds of (0%, 16%, 33%, 50%, 66%, 83%, 100%). It is advisable to choose a number that includes one or more test points below the lowest fan speed typically used. For instance, if the lowest commonly used fan speed is 20%, it is recommended to use 11 breakpoints to test at 10% and 20% fan speeds within the lower range.")),(0,n.kt)("admonition",{parentName:"li",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"Ensure that the part cooling fan is off before starting calibration."))))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("h4",{parentName:"li",id:"b-save-config"},"b) Save Config"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-properties",metastring:'showLineNumbers title="Console"',showLineNumbers:!0,title:'"Console"'},"  SAVE_CONFIG\n")))))),(0,n.kt)("p",null,"And you\u2019re all set! For more information and additional features, check the DangerKlipper documentation by clicking ",(0,n.kt)("a",{parentName:"p",href:"https://dangerklipper.io/MPC.html?h=mpc#mpc-algorithm"},"here"),"."))}c.isMDXComponent=!0}}]);