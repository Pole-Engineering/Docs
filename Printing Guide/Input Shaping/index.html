<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Printing Guide/Input Shaping" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Input Shaper | Pole Engineering</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://poleengineering.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://poleengineering.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://poleengineering.github.io/Printing Guide/Input Shaping"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Input Shaper | Pole Engineering"><meta data-rh="true" name="description" content="Input shaping is a technique to reduce or eliminate vibrations (also known as resonance) that occur when the printer moves at high accels. These vibrations can cause visible print defects such as ringing or ghosting, where the surface of the print shows repeating patterns or distortions, especially around corners or sharp changes in direction."><meta data-rh="true" property="og:description" content="Input shaping is a technique to reduce or eliminate vibrations (also known as resonance) that occur when the printer moves at high accels. These vibrations can cause visible print defects such as ringing or ghosting, where the surface of the print shows repeating patterns or distortions, especially around corners or sharp changes in direction."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://poleengineering.github.io/Printing Guide/Input Shaping"><link data-rh="true" rel="alternate" href="https://poleengineering.github.io/Printing Guide/Input Shaping" hreflang="en"><link data-rh="true" rel="alternate" href="https://poleengineering.github.io/Printing Guide/Input Shaping" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://XQ9XAYXM4G-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Pole Engineering" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.4b26a019.css">
<link rel="preload" href="/assets/js/runtime~main.f8039d6c.js" as="script">
<link rel="preload" href="/assets/js/main.aa5d7ec1.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="PE Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="PE Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/getting_started">Getting Started</a><a class="navbar__item navbar__link" href="/configurator">Configurator</a><a class="navbar__item navbar__link" href="/mods">Mods</a><a class="navbar__item navbar__link" href="/gallery">Gallery</a><a class="navbar__item navbar__link" href="/faq">FAQ</a><a class="navbar__item navbar__link" href="/about">About</a></div><div class="navbar__items navbar__items--right"><a href="https://pole.engineering" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Main Site<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/getting_started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/projects">Projects</a><button aria-label="Toggle the collapsible sidebar category &#x27;Projects&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/category/printer-tuning-guide">Printer Tuning Guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;Printer Tuning Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Printing Guide/Extruder Calibration">Extruder Calibration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Printing Guide/Extrusion Multiplier">Extrusion Multiplier</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Printing Guide/Input Shaping">Input Shaper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Printing Guide/Printing Temperatures">Printing Temperatures</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Printing Guide/Blind Joint">Frame Assembly</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Printing Guide/Pressure Advance">Pressure Advance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Printing Guide/TMC Tuning">TMC Tuning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Printing Guide/Temperature Controls">Temperature Controls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Printing Guide/Useful Add-ons">Useful Add-ons</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Acknowledgements">Acknowledgements</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/printer-tuning-guide"><span itemprop="name">Printer Tuning Guide</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Input Shaper</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Input Shaper</h1><p>Input shaping is a technique to reduce or eliminate vibrations (also known as resonance) that occur when the printer moves at high accels. These vibrations can cause visible print defects such as ringing or ghosting, where the surface of the print shows repeating patterns or distortions, especially around corners or sharp changes in direction.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="should-be-done-before">Should be Done Before<a href="#should-be-done-before" class="hash-link" aria-label="Direct link to Should be Done Before" title="Direct link to Should be Done Before">​</a></h3><ul><li><a href="/Printing Guide/Extruder Calibration">Extruder Calibration</a> must be done.</li><li><a href="/Printing Guide/Extrusion Multiplier">Extrusion Multiplier</a> must be done.</li><li><a href="/Printing Guide/Pressure Advance">Pressure Advance</a> must be done.</li><li><a href="/Printing Guide/Temperature Controls">Temperature Controls</a> must be done.</li></ul></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="required">Required<a href="#required" class="hash-link" aria-label="Direct link to Required" title="Direct link to Required">​</a></h3><ul><li><a href="/Printing Guide/ad">DangerKlipper (DK)</a> required for the folowing section(s):<ul><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="smooth-input-shaper-algorithms"><a href="/Printing Guide/Input Shaping#smooth-input-shaper-algorithms">Smooth Input Shaper Algorithms</a><a href="#smooth-input-shaper-algorithms" class="hash-link" aria-label="Direct link to smooth-input-shaper-algorithms" title="Direct link to smooth-input-shaper-algorithms">​</a></h4></li></ul></li></ul></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>skip to;</div><div class="admonitionContent_S0QG"><ul><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-it-works"><a href="/Printing Guide/Input Shaping#how-it-works-1">how it works?</a><a href="#how-it-works" class="hash-link" aria-label="Direct link to how-it-works" title="Direct link to how-it-works">​</a></h4></li><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-it-important"><a href="/Printing Guide/Input Shaping#why-is-it-important-1">Why is it Important?</a><a href="#why-is-it-important" class="hash-link" aria-label="Direct link to why-is-it-important" title="Direct link to why-is-it-important">​</a></h4></li><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-tune-input-shaper"><a href="/Printing Guide/Input Shaping#how-to-tune-input-shaper-2">How to Tune Input Shaper?</a><a href="#how-to-tune-input-shaper" class="hash-link" aria-label="Direct link to how-to-tune-input-shaper" title="Direct link to how-to-tune-input-shaper">​</a></h4><ul><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="settings"><a href="/Printing Guide/Input Shaping#settings">Settings</a><a href="#settings" class="hash-link" aria-label="Direct link to settings" title="Direct link to settings">​</a></h4></li></ul></li><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="shaper-models"><a href="/Printing Guide/Input Shaping#shaper-models-1">Shaper Models</a><a href="#shaper-models" class="hash-link" aria-label="Direct link to shaper-models" title="Direct link to shaper-models">​</a></h4></li><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="understanding-input-shaper-graphs"><a href="/Printing Guide/Input Shaping#understanding-input-shaper-graphs">Understanding Input Shaper Graphs</a><a href="#understanding-input-shaper-graphs" class="hash-link" aria-label="Direct link to understanding-input-shaper-graphs" title="Direct link to understanding-input-shaper-graphs">​</a></h4><ul><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="power-spectral-density-psd"><a href="/Printing Guide/Input Shaping#1-power-spectral-density-psd">Power Spectral Density (PSD)</a><a href="#power-spectral-density-psd" class="hash-link" aria-label="Direct link to power-spectral-density-psd" title="Direct link to power-spectral-density-psd">​</a></h4></li><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="accelerometer-axes"><a href="/Printing Guide/Input Shaping#2-accelerometer-axes">Accelerometer Axes</a><a href="#accelerometer-axes" class="hash-link" aria-label="Direct link to accelerometer-axes" title="Direct link to accelerometer-axes">​</a></h4></li><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="shaper-details"><a href="/Printing Guide/Input Shaping#3-shaper-details">Shaper Details</a><a href="#shaper-details" class="hash-link" aria-label="Direct link to shaper-details" title="Direct link to shaper-details">​</a></h4></li><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="frequency"><a href="/Printing Guide/Input Shaping#4-frequency">Frequency</a><a href="#frequency" class="hash-link" aria-label="Direct link to frequency" title="Direct link to frequency">​</a></h4></li></ul></li><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="smooth-input-shaper-algorithms-1"><a href="/Printing Guide/Input Shaping#smooth-input-shaper-algorithms">Smooth Input Shaper Algorithms</a><a href="#smooth-input-shaper-algorithms-1" class="hash-link" aria-label="Direct link to smooth-input-shaper-algorithms-1" title="Direct link to smooth-input-shaper-algorithms-1">​</a></h4><ul><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="smooth-shapers-avaliable-"><a href="/Printing Guide/Input Shaping#smooth-shapers-avaliable">Smooth shapers avaliable</a>-<a href="#smooth-shapers-avaliable-" class="hash-link" aria-label="Direct link to smooth-shapers-avaliable-" title="Direct link to smooth-shapers-avaliable-">​</a></h4></li></ul></li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-it-works-1">How it Works?<a href="#how-it-works-1" class="hash-link" aria-label="Direct link to How it Works?" title="Direct link to How it Works?">​</a></h2><p>Input shaping works by adjusting the motion commands sent to the printer’s motors, pre-compensating for these vibrations. Essentially, it modifies the acceleration and deceleration profile of the printer’s movements to cancel out the resonance frequencies, allowing higher accelerations without introducing print defects.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-it-important-1">Why is it Important?<a href="#why-is-it-important-1" class="hash-link" aria-label="Direct link to Why is it Important?" title="Direct link to Why is it Important?">​</a></h2><p>Input shaping is important in 3D printing because it directly addresses the problem of vibrations or resonance during high-speed movements, leading to significant improvements in print quality and performance. Here are the key reasons why input shaping is crucial:</p><ul><li><strong>Reduces Ringing and Ghosting</strong></li><li><strong>Enables Higher Print Speeds</strong></li><li><strong>Improves Dimensional Accuracy</strong></li><li><strong>Enhances Surface Quality</strong></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-tune-input-shaper-1">How to Tune Input Shaper?<a href="#how-to-tune-input-shaper-1" class="hash-link" aria-label="Direct link to How to Tune Input Shaper?" title="Direct link to How to Tune Input Shaper?">​</a></h2><p>Unlike other calibrations, input shaping is more specific to Klipper firmware and requires the installation of certain packages. Below, you’ll find a step-by-step guide on how to set up input shaping for your printer and how to interpret the graphs you generate during the process.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="settings-1">Settings<a href="#settings-1" class="hash-link" aria-label="Direct link to Settings" title="Direct link to Settings">​</a></h3><ul><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="a-connect-your-adxl345-to-your-printer">a) Connect your ADXL345 to your printer.<a href="#a-connect-your-adxl345-to-your-printer" class="hash-link" aria-label="Direct link to a) Connect your ADXL345 to your printer." title="Direct link to a) Connect your ADXL345 to your printer.">​</a></h4><p>You can find detailed wiring informations by clicking <a href="/Printing Guide/asd">here</a>.</p></li><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="b-install-the-required-packages">b) Install the required packages.<a href="#b-install-the-required-packages" class="hash-link" aria-label="Direct link to b) Install the required packages." title="Direct link to b) Install the required packages.">​</a></h4><p>SSH into your printer and run the following commands to install packages</p><ul><li><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">SSH</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token key attr-name" style="color:rgb(241, 250, 140)">sudo</span><span class="token plain"> </span><span class="token value attr-value">apt-get update</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">sudo</span><span class="token plain"> </span><span class="token value attr-value">apt update</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">sudo</span><span class="token plain"> </span><span class="token value attr-value">apt install python3-numpy python3-matplotlib libatlas-base-dev libopenblas-dev</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></li><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="c-install-numpy-in-the-klipper-environment-by-running-the-command">c) Install NumPy in the Klipper environment by running the command:<a href="#c-install-numpy-in-the-klipper-environment-by-running-the-command" class="hash-link" aria-label="Direct link to c) Install NumPy in the Klipper environment by running the command:" title="Direct link to c) Install NumPy in the Klipper environment by running the command:">​</a></h4><ul><li><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">SSH</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token key attr-name" style="color:rgb(241, 250, 140)">~/klippy-env/bin/pip</span><span class="token plain"> </span><span class="token value attr-value">install -v numpy</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></li><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="d-make-the-required-changes-to-define-adxl345-in-printercfg">d) Make the required changes to define ADXL345 in printer.cfg.<a href="#d-make-the-required-changes-to-define-adxl345-in-printercfg" class="hash-link" aria-label="Direct link to d) Make the required changes to define ADXL345 in printer.cfg." title="Direct link to d) Make the required changes to define ADXL345 in printer.cfg.">​</a></h4><ul><li><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">printer.cfg</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">[adxl345]</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">cs_pin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token value attr-value">adxl:gpio1</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">spi_bus</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token value attr-value">spi0a</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">axes_map</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token value attr-value">x,z,y</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">[resonance_tester]</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">accel_chip</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token value attr-value">adxl345</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">probe_points</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">    # Somewhere slightly above the middle of your print bed</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">    147,154,</span><span class="token plain"> </span><span class="token value attr-value">20</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>You need to include this section if you connected your ADXL345 other than your main controller.</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">printer.cfg</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token key attr-name" style="color:rgb(241, 250, 140)">[mcu</span><span class="token plain"> </span><span class="token value attr-value">adxl]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">serial</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token value attr-value">/dev/serial/by-id/&lt;mySerial&gt;    </span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Change &lt;mySerial&gt; to whatever you found above. For example, usb-Klipper_rp2040_E661640843545B2E-if00</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></li></ul></li><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="e-time-to-run-real-life-tests">e) Time to run real life tests!<a href="#e-time-to-run-real-life-tests" class="hash-link" aria-label="Direct link to e) Time to run real life tests!" title="Direct link to e) Time to run real life tests!">​</a></h4><p>  When you type the commands below to console, the specified axis of the printer will start to oscillate. At first, you will be able to see this oscillation, but as the HZ increases, you will only hear the sound. Don’t worry, the sounds are completely normal.</p><ul><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="for-axis-x">For Axis X<a href="#for-axis-x" class="hash-link" aria-label="Direct link to For Axis X" title="Direct link to For Axis X">​</a></h4></li><li><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">Console</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token key attr-name" style="color:rgb(241, 250, 140)">TEST_RESONANCES</span><span class="token plain"> </span><span class="token value attr-value">AXIS=X</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="for-axis-y">For Axis Y<a href="#for-axis-y" class="hash-link" aria-label="Direct link to For Axis Y" title="Direct link to For Axis Y">​</a></h4></li><li><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">Console</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token key attr-name" style="color:rgb(241, 250, 140)">TEST_RESONANCES</span><span class="token plain"> </span><span class="token value attr-value">AXIS=Y</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></li><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="f-generate-the-graphs">f) Generate the Graphs<a href="#f-generate-the-graphs" class="hash-link" aria-label="Direct link to f) Generate the Graphs" title="Direct link to f) Generate the Graphs">​</a></h4><p>  After performing the resonance tests, Klipper generates a <code>.csv</code> file containing the results of the tests. By running a Python script using the commands below, we can graphically interpret this data by plotting it into a graph.</p><ul><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="for-axis-x-graph">For Axis X Graph<a href="#for-axis-x-graph" class="hash-link" aria-label="Direct link to For Axis X Graph" title="Direct link to For Axis X Graph">​</a></h4></li><li><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">Console</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token key attr-name" style="color:rgb(241, 250, 140)">~/klipper/scripts/calibrate_shaper.py</span><span class="token plain"> </span><span class="token value attr-value">/tmp/resonances_x_*.csv -o /tmp/shaper_calibrate_x.png</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="for-axis-y-graph">For Axis Y Graph<a href="#for-axis-y-graph" class="hash-link" aria-label="Direct link to For Axis Y Graph" title="Direct link to For Axis Y Graph">​</a></h4></li><li><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">Console</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token key attr-name" style="color:rgb(241, 250, 140)">~/klipper/scripts/calibrate_shaper.py</span><span class="token plain"> </span><span class="token value attr-value">/tmp/resonances_y_*.csv -o /tmp/shaper_calibrate_y.png</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>You need to delete the older <code>.csv</code> files before you plotting datas to graphs, otherwise script will use both of the <code>.csv</code> files to generate the graphs and that&#x27;ll cause 2 overlapped graphs to each other which makes harder to read and diagnose.</p></div></div></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="shaper-models-1">Shaper Models<a href="#shaper-models-1" class="hash-link" aria-label="Direct link to Shaper Models" title="Direct link to Shaper Models">​</a></h2><p>Klipper offers you 5 different shapers. Each one has its own advantage. You can see few details about them below;</p><ul><li><p><strong>ZV (Zero Vibration)</strong>: ZV is a basic form of input shaping designed to reduce vibrations by adjusting motor acceleration.</p></li><li><p><strong>MZV (Modified Zero Vibration)</strong>: MZV builds upon ZV by offering better vibration reduction, particularly for systems with higher resonance frequencies.</p></li><li><p><strong>EI (Extra Insensitive)</strong>: EI input shaping increases the system’s insensitivity to a range of vibration frequencies, allowing for better performance across varied conditions.</p></li><li><p><strong>2-Hump EI (Two Hump Extra Insensitive)</strong>: This variant of EI targets two dominant resonant frequencies simultaneously, providing improved performance for systems with dual frequency vibrations.</p></li><li><p><strong>3-Hump EI (Three Hump Extra Insensitive)</strong>: Like 2-Hump EI, this input shaping method is designed to target three resonance frequencies.</p></li></ul><p>As written before, each one has their own advantages but we mostly recommend using <code>MZV</code> for our usecase.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="understanding-input-shaper-graphs-1">Understanding Input Shaper Graphs<a href="#understanding-input-shaper-graphs-1" class="hash-link" aria-label="Direct link to Understanding Input Shaper Graphs" title="Direct link to Understanding Input Shaper Graphs">​</a></h2><p>In order to understand input shaper graphs generated by klipper, you will need to learn about the basics first. Let&#x27;s take a look to sample graph below</p><div style="text-align:center"><img loading="lazy" src="/assets/images/shaper-a07c26c5c8eb5d27616674d4d58ccbd2.png" alt="shaper" style="width:1000px;opacity:1" class="img_ev3q"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-power-spectral-density-psd">1) Power Spectral Density (PSD)<a href="#1-power-spectral-density-psd" class="hash-link" aria-label="Direct link to 1) Power Spectral Density (PSD)" title="Direct link to 1) Power Spectral Density (PSD)">​</a></h3><p> Power Spectral Density (PSD), the axis magnitude is given in scientific notation, like &quot;1e4,&quot; meaning it has a magnitude of <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>∗</mo><mn>1</mn><msup><mn>0</mn><mn>4</mn></msup></mrow><annotation encoding="application/x-tex">1 * 10^4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8141em"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span></span>. Therefore, the peak value in the example has a PSD of:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>7</mn><mo stretchy="false">(</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup><mo stretchy="false">)</mo><mo>=</mo><mn>700</mn><mo separator="true">,</mo><mn>000.</mn></mrow><annotation encoding="application/x-tex">7(10^5) = 700,000.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em"></span><span class="mord">7</span><span class="mopen">(</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em"></span><span class="mord">700</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">000.</span></span></span></span></span></div><p>If the PSD value changes to &quot;1e5,&quot; it indicates multiplication by 100,000, adding another factor of 10.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="11-magnitude">1.1) Magnitude<a href="#11-magnitude" class="hash-link" aria-label="Direct link to 1.1) Magnitude" title="Direct link to 1.1) Magnitude">​</a></h4><p><strong>&quot;When interpreting my graphs, what value of the PSD should I pay attention to?&quot;</strong>
Assuming you are using a printer with a rigid motion system (e.g: Crossant), if you have a graph with magnitudes of <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo stretchy="false">(</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">3(10^5)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mord">3</span><span class="mopen">(</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> and above, you likely have a noise-free and clean graph, meaning you can use that graph.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>The greater the magnitude, the cleaner and better your graphs will be.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-accelerometer-axes">2) Accelerometer Axes<a href="#2-accelerometer-axes" class="hash-link" aria-label="Direct link to 2) Accelerometer Axes" title="Direct link to 2) Accelerometer Axes">​</a></h3><p>Axes config is necessary for the accelerometer to understand which axis it is detecting displacement on. You do not need to adjust this according to the movement axes of your printer, as it represents the axes of the accelerometer, not your printer.</p><div style="text-align:center"><img loading="lazy" src="/assets/images/xyshaper-e84815d64e5c2e7de16eae2e1c2773da.png" alt="xyshaper" style="width:500px;opacity:1" class="img_ev3q"></div><blockquote><p><strong>X/Y movements:</strong> x/y movements in our graph must be equal. On this example graph, PSD of x and y is not equal, unequal axes in this graph can indicate false or harmonic resonances/noise.</p></blockquote><blockquote><p><strong>Z movements:</strong> we do not expect to see z movements as any movement observed in the Z axis indicates that our toolhead is flexible/wobbly and not sufficiently rigid.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-shaper-details">3) Shaper Details<a href="#3-shaper-details" class="hash-link" aria-label="Direct link to 3) Shaper Details" title="Direct link to 3) Shaper Details">​</a></h3><p>The following list is organized from the least aggressive to the most aggressive in terms of vibration reduction and smoothing effects. The values in parentheses indicate the frequency settings for the <!-- -->[input_shaper]<!-- --> configuration.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="values-in-brackets">Values in brackets<a href="#values-in-brackets" class="hash-link" aria-label="Direct link to Values in brackets" title="Direct link to Values in brackets">​</a></h4><ul><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="vibr-vibration">Vibr (vibration)<a href="#vibr-vibration" class="hash-link" aria-label="Direct link to Vibr (vibration)" title="Direct link to Vibr (vibration)">​</a></h4><blockquote><p>This represents the total remaining vibration after applying the respective shaper.</p></blockquote></li><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="sm-smoothing">Sm (smoothing)<a href="#sm-smoothing" class="hash-link" aria-label="Direct link to Sm (smoothing)" title="Direct link to Sm (smoothing)">​</a></h4><blockquote><p>This term refers to smoothing, indicating how the shaper influences motion. Each shaper introduces a specific deviation from Klipper&#x27;s calculated target motion, which is essential for reducing vibration. However, this deviation may also result in smoothing, leading to a loss of finer details. It provides a qualitative means to assess the effects of various shapers.</p></blockquote></li><li><h4 class="anchor anchorWithStickyNavbar_LWe7" id="accel-acceleration">Accel (acceleration)<a href="#accel-acceleration" class="hash-link" aria-label="Direct link to Accel (acceleration)" title="Direct link to Accel (acceleration)">​</a></h4><blockquote><p>This denotes the maximum recommended acceleration for each shaper to prevent excessive smoothing. For instance, if a printer can handle an acceleration of 20,000, it should be capable of less acceleration when utilizing the 3HUMP_EI shaper. It&#x27;s important to note that this figure is not intended to be the new acceleration setting for a printer rated at 3,000.</p></blockquote></li></ul><p>Lastly, the recommended shaper aims to achieve an optimal balance between smoothing and residual vibration.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="accel-per-hz">Accel Per Hz<a href="#accel-per-hz" class="hash-link" aria-label="Direct link to Accel Per Hz" title="Direct link to Accel Per Hz">​</a></h4><p>This is one of the settings you want to adjust during testing. It&#x27;s located under the <strong>[resonance_tester]</strong> and the default value is <strong>75</strong>. When you increase this value and start a test, you will notice that your printer shakes much more aggressively. The reason for this is that this setting determines the acceleration value that will be increased per Hz. </p><p>The accel_per_hz is generally directly proportional to the PSD. A higher accel_per_hz leads to a stronger PSD. In a rigid motion system, using the default value of 75 Hz will only measure noise because the 75 Hz increment is too weak to shake the rigidity of your motion system. Therefore, when testing with a crossant, it is recommended to start from 150 and test up to 200 (or even 250 in exceptional cases).</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>No matter how clean your graph is, the ZV algorithm is highly aggressive and is largely not recommended for use. You might think that using ZV results in less smoothing, but due to the aggressive nature of ZV, it may not be able to cancel out any unwanted frequencies generated in your printer&#x27;s motion system. As a result, you may experience defects in your prints. Our recommendation is MZV.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-frequency">4) Frequency<a href="#4-frequency" class="hash-link" aria-label="Direct link to 4) Frequency" title="Direct link to 4) Frequency">​</a></h3><p>As outlined earlier, the assessment involves a wide spectrum of frequency inputs, and the resulting frequency data is represented along the X-axis.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="smooth-input-shaper-algorithms-2">Smooth Input Shaper Algorithms<a href="#smooth-input-shaper-algorithms-2" class="hash-link" aria-label="Direct link to Smooth Input Shaper Algorithms" title="Direct link to Smooth Input Shaper Algorithms">​</a></h2><p>The Smooth Input Shaper algorithms are a collection of input shaping algorithms found in the bleeding-edge branch of Danger Klipper (current version: bleeding-edge-v2). These algorithms utilize smooth polynomial functions to minimize vibrations at specific frequencies, similar to traditional input shapers. Their aim is to provide shapers with enhanced overall performance.</p><ul><li><h3 class="anchor anchorWithStickyNavbar_LWe7" id="smooth-shapers-avaliable">Smooth shapers avaliable<a href="#smooth-shapers-avaliable" class="hash-link" aria-label="Direct link to Smooth shapers avaliable" title="Direct link to Smooth shapers avaliable">​</a></h3><ul><li><strong>smooth_zv</strong> - Smooth version of zv input shaper</li><li><strong>smooth_mzv</strong> - Smooth version of mzv input shaper</li><li><strong>smooth_ei</strong> - Smooth version of ei input shaper</li><li><strong>smooth_2hump_ei</strong> - Smooth version of 2hump_ei input shaper</li><li><strong>smooth_zvd_ei</strong> - Zero Vibration Derivative - Extra-Insensitive Smooth Shaper (Documentation and use cases currently limited)</li><li><strong>smooth_si</strong> - Super Insensitive Smooth Shaper (Documentation and use cases currently limited)</li></ul></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/pole-engineering/Docs/tree/gh-pages/docs/Printing Guide/Input Shaping.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Printing Guide/Extrusion Multiplier"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Extrusion Multiplier</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Printing Guide/Printing Temperatures"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Printing Temperatures</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-it-works-1" class="table-of-contents__link toc-highlight">How it Works?</a></li><li><a href="#why-is-it-important-1" class="table-of-contents__link toc-highlight">Why is it Important?</a></li><li><a href="#how-to-tune-input-shaper-1" class="table-of-contents__link toc-highlight">How to Tune Input Shaper?</a><ul><li><a href="#settings-1" class="table-of-contents__link toc-highlight">Settings</a></li></ul></li><li><a href="#shaper-models-1" class="table-of-contents__link toc-highlight">Shaper Models</a></li><li><a href="#understanding-input-shaper-graphs-1" class="table-of-contents__link toc-highlight">Understanding Input Shaper Graphs</a><ul><li><a href="#1-power-spectral-density-psd" class="table-of-contents__link toc-highlight">1) Power Spectral Density (PSD)</a></li><li><a href="#2-accelerometer-axes" class="table-of-contents__link toc-highlight">2) Accelerometer Axes</a></li><li><a href="#3-shaper-details" class="table-of-contents__link toc-highlight">3) Shaper Details</a></li><li><a href="#4-frequency" class="table-of-contents__link toc-highlight">4) Frequency</a></li></ul></li><li><a href="#smooth-input-shaper-algorithms-2" class="table-of-contents__link toc-highlight">Smooth Input Shaper Algorithms</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting_started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/assembly-guide">Assembly Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/faq">FAQ</a></li><li class="footer__item"><a class="footer__link-item" href="/about">About US</a></li></ul></div><div class="col footer__col"><div class="footer__title">Projects</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/crossant-235">Crossant 235</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/poleengineering" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/Pole-Engineering" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/poleengineering" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://instagram.com/poleengineering" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Pole Engineering</div></div></div></footer></div>
<script src="/assets/js/runtime~main.f8039d6c.js"></script>
<script src="/assets/js/main.aa5d7ec1.js"></script>
</body>
</html>